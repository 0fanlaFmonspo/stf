.widget-container.fluid-height.stf-upload(ng-controller='UploadCtrl')
  .heading
    i.fa.fa-upload
    span(translate) Upload
    clear-button(ng-click='clear()', ng-disabled='!installation').btn-xs
    label.checkbox-inline.pull-right
      input(type='checkbox', ng-model='launchEnabled', ng-disabled='true')
      span Launch
    label.checkbox-inline.pull-right
      input(type='checkbox', ng-model='installEnabled', ng-disabled='true')
      span Install

  .widget-content.padded

    .drop-area(ng-file-drop='$root.install($files)').file-input.btn-file
      input(type='file', ng-file-select='$root.install($files)')

      i.fa.fa-2x.fa-download.drop-area-icon
      p.drop-area-text Drop file to upload, or from link

      .col-md-10.col-md-offset-1
        .input-group.form-inline
          input(type=text, ng-model='remoteUrl', ng-enter='$root.install(remoteUrl)',
            placeholder='http://...').form-control
          span.input-group-btn
            button.btn.btn-primary-outline(ng-click='$root.install(remoteUrl)',
              tooltip='Upload From Link', ng-disabled='!remoteUrl')
              i.fa.fa-upload

    .upload-status(ng-if='installation')

      accordion(close-others='false')
        accordion-group(is-open='true')
          accordion-heading
            i.fa.fa-file-o
            span  {{installation.manifest.application.name}}

          div(ng-switch='installation.lastData')
            strong(ng-switch-when='pushing_app')
              span(translate) Pushing app...
            strong(ng-switch-when='installing_app')
              span(translate) Installing app...
            strong(ng-switch-when='launching_app')
              span(translate) Launching activity...
            strong(ng-switch-when='success')
              //pre {{ installation.manifest }}

            strong(ng-switch-when='fail')
              span(translate) Installation failed
            span(ng-hide='installation.settled')  ({{installation.progress}}%)

          progressbar(max='100', value='installation.progress', ng-if='!installation.settled',
            ng-class='{"active": !installation.settled}').progress-striped
