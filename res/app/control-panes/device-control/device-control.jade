.interact-control.fill-height.as-table.stf-device-control(ng-controller='DeviceControlCtrl')
  .as-cell.fill-height
    .as-table.fill-height
      .stf-vnc-navbar.as-row(ng-show='!$root.basicMode && !$root.standalone')
        .stf-vnc-right-buttons.pull-right
          .btn-group
            label.btn-sm.btn-primary-outline(type='button', ng-click='tryToRotate("portrait")',
            ng-model='currentRotation', btn-radio='"portrait"').pointer
              i.fa.fa-mobile(tooltip='{{ "Portrait" | translate }} (Current rotation: {{ device.display.rotation }}°)', tooltip-placement='bottom')
            label.btn-sm.btn-primary-outline(type='button', ng-click='tryToRotate("landscape")',
              ng-model='currentRotation', btn-radio='"landscape"').pointer
              i.fa.fa-mobile.fa-rotate-90(tooltip='{{ "Landscape" | translate }} (Current rotation: {{ device.display.rotation }}°)', tooltip-placement='bottom')
          .button-spacer
          // NOTE: ui-bootstrap bug: tooltip breaks btn-checkbox so don't put in the same button
          button(type='button', ng-model='showScreen', btn-checkbox).btn.btn-sm.btn-danger
            i(ng-show='showScreen', tooltip-html-unsafe='{{"Hide Screen"|translate}}', tooltip-placement='bottom').fa.fa-eye
            i(ng-show='!showScreen', tooltip-html-unsafe='{{"Show Screen"|translate}}', tooltip-placement='bottom').fa.fa-eye-slash

        .device-name-container(dropdown)
          a.stf-vnc-device-name.pointer.unselectable.dropdown-toggle
            p
              .device-small-image
                img(ng-src='/static/app/devices/icon/x24/{{ device.image || "E30HT.jpg" }}')
              span.device-name-text {{ device.name }}
              span.caret(ng-show='groupDevices.length > 0')
            //span(ng-show='device && !device.present', translate) (Absent)

          ul.dropdown-menu(role='menu', data-toggle='dropdown', ng-show='groupDevices.length > 0').pointer.unselectable
            li(ng-repeat='groupDevice in groupDevices')
              a(ng-click='controlDevice(groupDevice); $event.stopPropagation()')
                .device-small-image
                  img(ng-src='/static/app/devices/icon/x24/{{ groupDevice.image || "E30HT.jpg" }}')
                span(ng-class='{"current-device": groupDevice.serial === device.serial }') {{ groupDevice.name }}

                span.pull-right(ng-click='kickDevice(groupDevice); $event.stopPropagation()').kick-device
                  i.fa.fa-times

      .as-row.fill-height

        .dropdown.context-menu(id='context-menu-{{ $index }}')
          ul.dropdown-menu(role='menu')
            li
              a.pointer(role='menuitem', ng-click='control.back(); $event.preventDefault()')
                i.fa.fa-mail-reply.fa-fw
                span(translate) Back
            li
              a.pointer(role='menuitem', ng-click='control.home(); $event.preventDefault()')
                i.fa.fa-home.fa-fw
                span(translate) Home
            li.divider
            li
              a.pointer(role='menuitem', ng-click='rotateRight(); $event.preventDefault()')
                i.fa.fa-rotate-left.fa-fw
                span(translate) Rotate Left
            li
              a.pointer(role='menuitem', ng-click='rotateLeft(); $event.preventDefault()')
                i.fa.fa-rotate-right.fa-fw
                span(translate) Rotate Right
            li.divider
            li
              a.pointer(role='menuitem', ng-click='kickDevice(device); $event.preventDefault()')
                i.fa.fa-sign-out.fa-fw
                span(translate) Stop Using

        div(ng-controller='DeviceScreenCtrl', ng-if='device',
          ng-file-drop='installFile($files)', ng-file-drag-over-class='dragover').fill-height
          div(context-menu, data-target='context-menu-{{ $index }}').fill-height
            device-screen(device='device', control='control')

      .stf-vnc-bottom.as-row(ng-hide='$root.standalone')
        .controls
          .btn-group.btn-group-justified
            a(device-control-key='menu', title='{{"Menu"|translate}}').btn.btn-primary.btn-lg.no-transition
              i.fa.fa-bars
            a(device-control-key='home', title='{{"Home"|translate}}').btn.btn-primary.btn-lg.no-transition
              i.fa.fa-home
            a(device-control-key='back', title='{{"Back"|translate}}').btn.btn-primary.btn-lg.no-transition
              i.fa.fa-mail-reply
